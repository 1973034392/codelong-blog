import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,a as e,o as a}from"./app-C5yere6t.js";const i={};function h(n,t){return a(),r("div",null,t[0]||(t[0]=[e('<h1 id="表结构设计" tabindex="-1"><a class="header-anchor" href="#表结构设计"><span>表结构设计</span></a></h1><h3 id="_1-基础配置表" tabindex="-1"><a class="header-anchor" href="#_1-基础配置表"><span>1. 基础配置表</span></a></h3><h4 id="d-area-地区表" tabindex="-1"><a class="header-anchor" href="#d-area-地区表"><span><strong>d_area</strong>（地区表）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>自增</td><td>❌</td><td>区域id (主键)</td></tr><tr><td>parent_id</td><td>bigint</td><td>0</td><td>❌</td><td>父区域id</td></tr><tr><td>name</td><td>varchar(120)</td><td>-</td><td>❌</td><td>区域名字</td></tr><tr><td>type</td><td>int</td><td>2</td><td>❌</td><td>1:省 2:区 3:县</td></tr><tr><td>municipality</td><td>tinyint(1)</td><td>0</td><td>❌</td><td>是否直辖市：1是 0否</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>✔️</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>✔️</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>✔️</td><td>状态：1正常 0删除</td></tr><tr><td><strong>索引</strong>：</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>ctype (type)</code></li><li><code>parent_id (parent_id)</code></li></ul><hr><h4 id="d-channel-data-渠道数据表" tabindex="-1"><a class="header-anchor" href="#d-channel-data-渠道数据表"><span><strong>d_channel_data</strong>（渠道数据表）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>name</td><td>varchar(50)</td><td>-</td><td>✔️</td><td>名称</td></tr><tr><td>code</td><td>varchar(50)</td><td>-</td><td>❌</td><td>编码 (唯一)</td></tr><tr><td>introduce</td><td>varchar(500)</td><td>-</td><td>✔️</td><td>介绍描述</td></tr><tr><td>sign_public_key</td><td>text</td><td>-</td><td>❌</td><td>RSA签名公钥</td></tr><tr><td>sign_secret_key</td><td>text</td><td>-</td><td>❌</td><td>RSA签名秘钥</td></tr><tr><td>aes_key</td><td>text</td><td>-</td><td>✔️</td><td>AES秘钥</td></tr><tr><td>data_public_key</td><td>text</td><td>-</td><td>✔️</td><td>RSA参数公钥</td></tr><tr><td>data_secret_key</td><td>text</td><td>-</td><td>✔️</td><td>RSA参数私钥</td></tr><tr><td>token_secret</td><td>text</td><td>-</td><td>❌</td><td>Token秘钥</td></tr><tr><td>status</td><td>int</td><td>1</td><td>✔️</td><td>状态：1启用 0禁用</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>✔️</td><td>编辑时间</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>✔️</td><td>创建时间</td></tr><tr><td><strong>唯一约束</strong>：<code>code_IDX (code)</code></td><td></td><td></td><td></td><td></td></tr></tbody></table><hr><h4 id="d-api-data-api请求记录表" tabindex="-1"><a class="header-anchor" href="#d-api-data-api请求记录表"><span><strong>d_api_data</strong>（API请求记录表）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>head_version</td><td>varchar(32)</td><td>-</td><td>✔️</td><td>请求版本</td></tr><tr><td>api_address</td><td>varchar(32)</td><td>-</td><td>✔️</td><td>客户端IP</td></tr><tr><td>api_method</td><td>varchar(32)</td><td>-</td><td>✔️</td><td>请求方法</td></tr><tr><td>api_body</td><td>varchar(200)</td><td>-</td><td>✔️</td><td>请求体</td></tr><tr><td>api_params</td><td>varchar(100)</td><td>-</td><td>✔️</td><td>请求参数</td></tr><tr><td>api_url</td><td>varchar(100)</td><td>-</td><td>✔️</td><td>请求路径</td></tr><tr><td>call_day_time</td><td>varchar(64)</td><td>-</td><td>✔️</td><td>按天维度请求时间</td></tr><tr><td>call_hour_time</td><td>varchar(64)</td><td>-</td><td>✔️</td><td>按小时维度请求时间</td></tr><tr><td>call_minute_time</td><td>varchar(64)</td><td>-</td><td>✔️</td><td>按分钟维度请求时间</td></tr><tr><td>call_second_time</td><td>varchar(64)</td><td>-</td><td>✔️</td><td>按秒维度请求时间</td></tr><tr><td>type</td><td>int</td><td>-</td><td>✔️</td><td>API规则生效类型：1一般 2深度</td></tr><tr><td>status</td><td>int</td><td>1</td><td>✔️</td><td>状态：1未删除 0删除</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>✔️</td><td>编辑时间</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>✔️</td><td>创建时间</td></tr><tr><td><strong>索引</strong>：</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>idx_api_address (api_address)</code></li><li><code>idx_api_url (api_url)</code></li><li>时间维度索引（<code>call_day_time</code>, <code>call_hour_time</code>等）</li></ul><hr><h4 id="d-depth-rule-深度调用限制规则表" tabindex="-1"><a class="header-anchor" href="#d-depth-rule-深度调用限制规则表"><span><strong>d_depth_rule</strong>（深度调用限制规则表）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>start_time_window</td><td>varchar(64)</td><td>-</td><td>❌</td><td>限制开始时间</td></tr><tr><td>end_time_window</td><td>varchar(64)</td><td>-</td><td>❌</td><td>限制结束时间</td></tr><tr><td>stat_time</td><td>int</td><td>-</td><td>❌</td><td>统计时间（数值）</td></tr><tr><td>stat_time_type</td><td>int</td><td>-</td><td>❌</td><td>统计时间类型：1秒 2分钟</td></tr><tr><td>threshold</td><td>int</td><td>-</td><td>❌</td><td>调用限制阈值</td></tr><tr><td>effective_time</td><td>int</td><td>-</td><td>❌</td><td>限制时间（数值）</td></tr><tr><td>effective_time_type</td><td>int</td><td>-</td><td>❌</td><td>限制时间类型：1秒 2分钟</td></tr><tr><td>limit_api</td><td>text</td><td>-</td><td>✔️</td><td>限制路径（逗号分隔）</td></tr><tr><td>message</td><td>varchar(64)</td><td>-</td><td>✔️</td><td>限制访问提示语</td></tr><tr><td>status</td><td>tinyint</td><td>1</td><td>✔️</td><td>状态：1正常 0禁用</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>✔️</td><td>编辑时间</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>✔️</td><td>创建时间</td></tr></tbody></table><hr><h4 id="d-rule-调用限制规则表" tabindex="-1"><a class="header-anchor" href="#d-rule-调用限制规则表"><span><strong>d_rule</strong>（调用限制规则表）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>stat_time</td><td>int</td><td>-</td><td>❌</td><td>统计时间（数值）</td></tr><tr><td>stat_time_type</td><td>int</td><td>-</td><td>❌</td><td>统计时间类型：1秒 2分钟</td></tr><tr><td>threshold</td><td>int</td><td>-</td><td>❌</td><td>调用限制阈值</td></tr><tr><td>effective_time</td><td>int</td><td>-</td><td>❌</td><td>限制时间（数值）</td></tr><tr><td>effective_time_type</td><td>int</td><td>-</td><td>❌</td><td>限制时间类型：1秒 2分钟</td></tr><tr><td>limit_api</td><td>text</td><td>-</td><td>✔️</td><td>限制路径（逗号分隔）</td></tr><tr><td>message</td><td>varchar(64)</td><td>-</td><td>✔️</td><td>限制访问提示语</td></tr><tr><td>status</td><td>tinyint</td><td>1</td><td>✔️</td><td>状态：1正常 0禁用</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>✔️</td><td>编辑时间</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>✔️</td><td>创建时间</td></tr></tbody></table><hr><h3 id="_2-订单与支付模块" tabindex="-1"><a class="header-anchor" href="#_2-订单与支付模块"><span>2. 订单与支付模块</span></a></h3><h4 id="d-order-订单表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-order-订单表-分表合并"><span><strong>d_order</strong>（订单表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>order_number</td><td>bigint</td><td>-</td><td>❌</td><td>订单编号 (唯一)</td></tr><tr><td>program_id</td><td>bigint</td><td>-</td><td>❌</td><td>节目表id</td></tr><tr><td>program_item_picture</td><td>varchar(1024)</td><td>-</td><td>✔️</td><td>节目图片介绍</td></tr><tr><td>user_id</td><td>bigint</td><td>-</td><td>❌</td><td>用户id</td></tr><tr><td>program_title</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>节目标题</td></tr><tr><td>program_place</td><td>varchar(100)</td><td>-</td><td>✔️</td><td>节目地点</td></tr><tr><td>program_show_time</td><td>datetime</td><td>-</td><td>✔️</td><td>节目演出时间</td></tr><tr><td>program_permit_choose_seat</td><td>tinyint(1)</td><td>-</td><td>❌</td><td>是否允许选座：1是 0否</td></tr><tr><td>distribution_mode</td><td>varchar(256)</td><td>-</td><td>✔️</td><td>配送方式</td></tr><tr><td>take_ticket_mode</td><td>varchar(256)</td><td>-</td><td>✔️</td><td>取票方式</td></tr><tr><td>order_price</td><td>decimal</td><td>-</td><td>✔️</td><td>订单价格</td></tr><tr><td>pay_order_type</td><td>int</td><td>-</td><td>✔️</td><td>支付方式</td></tr><tr><td>order_status</td><td>int</td><td>1</td><td>✔️</td><td>状态：1未付 2取消 3已付 4退单</td></tr><tr><td>create_order_time</td><td>datetime</td><td>-</td><td>✔️</td><td>生成订单时间</td></tr><tr><td>cancel_order_time</td><td>datetime</td><td>-</td><td>✔️</td><td>取消订单时间</td></tr><tr><td>pay_order_time</td><td>datetime</td><td>-</td><td>✔️</td><td>支付订单时间</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>✔️</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>✔️</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>✔️</td><td>状态：1正常 0删除</td></tr><tr><td><strong>索引</strong>：</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>program_id_IDX (program_id)</code></li><li><code>user_id_IDX (user_id)</code></li><li>唯一索引 <code>d_order_order_number_IDX (order_number)</code></li></ul><hr><h4 id="d-order-ticket-user-购票人订单表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-order-ticket-user-购票人订单表-分表合并"><span><strong>d_order_ticket_user</strong>（购票人订单表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>order_number</td><td>bigint</td><td>-</td><td>❌</td><td>订单编号</td></tr><tr><td>program_id</td><td>bigint</td><td>-</td><td>❌</td><td>节目表id</td></tr><tr><td>user_id</td><td>bigint</td><td>-</td><td>❌</td><td>用户id</td></tr><tr><td>ticket_user_id</td><td>bigint</td><td>-</td><td>❌</td><td>购票人id</td></tr><tr><td>seat_id</td><td>bigint</td><td>-</td><td>❌</td><td>座位id</td></tr><tr><td>seat_info</td><td>varchar(100)</td><td>-</td><td>✔️</td><td>座位信息</td></tr><tr><td>ticket_category_id</td><td>bigint</td><td>-</td><td>✔️</td><td>节目票档id</td></tr><tr><td>order_price</td><td>decimal</td><td>-</td><td>✔️</td><td>订单价格</td></tr><tr><td>pay_order_price</td><td>decimal</td><td>-</td><td>✔️</td><td>支付订单价格</td></tr><tr><td>pay_order_type</td><td>int</td><td>-</td><td>✔️</td><td>支付方式</td></tr><tr><td>order_status</td><td>int</td><td>1</td><td>✔️</td><td>状态：1未付 2取消 3已付 4退单</td></tr><tr><td>create_order_time</td><td>datetime</td><td>-</td><td>✔️</td><td>生成订单时间</td></tr><tr><td>cancel_order_time</td><td>datetime</td><td>-</td><td>✔️</td><td>取消订单时间</td></tr><tr><td>pay_order_time</td><td>datetime</td><td>-</td><td>✔️</td><td>支付订单时间</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>✔️</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>✔️</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>✔️</td><td>状态：1正常 0删除</td></tr><tr><td><strong>索引</strong>：</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>d_order_ticket_user_create_order_time_IDX (create_order_time)</code></li><li><code>d_order_ticket_user_order_id_IDX (order_number)</code></li><li><code>d_order_ticket_user_ticket_user_id_IDX (ticket_user_id)</code></li><li><code>d_order_ticket_user_user_id_IDX (user_id)</code></li></ul><hr><h4 id="d-pay-bill-支付表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-pay-bill-支付表-分表合并"><span><strong>d_pay_bill</strong>（支付表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>pay_number</td><td>varchar(64)</td><td>-</td><td>✔️</td><td>支付流水号</td></tr><tr><td>out_order_no</td><td>varchar(64)</td><td>-</td><td>❌</td><td>商户订单号 (唯一)</td></tr><tr><td>pay_channel</td><td>varchar(64)</td><td>-</td><td>✔️</td><td>支付渠道</td></tr><tr><td>pay_scene</td><td>varchar(64)</td><td>-</td><td>✔️</td><td>支付环境</td></tr><tr><td>subject</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>订单标题</td></tr><tr><td>trade_number</td><td>varchar(256)</td><td>-</td><td>✔️</td><td>三方交易凭证号</td></tr><tr><td>pay_amount</td><td>decimal</td><td>-</td><td>❌</td><td>支付金额</td></tr><tr><td>pay_bill_type</td><td>int</td><td>-</td><td>❌</td><td>支付种类（枚举）</td></tr><tr><td>pay_bill_status</td><td>int</td><td>1</td><td>❌</td><td>账单状态：1未完成</td></tr><tr><td>pay_time</td><td>datetime</td><td>-</td><td>✔️</td><td>支付时间</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1未删除 0删除</td></tr><tr><td><strong>唯一约束</strong>：<code>d_pay_bill_out_order_no_IDX (out_order_no)</code></td><td></td><td></td><td></td><td></td></tr></tbody></table><hr><h4 id="d-refund-bill-退款表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-refund-bill-退款表-分表合并"><span><strong>d_refund_bill</strong>（退款表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>out_order_no</td><td>varchar(64)</td><td>-</td><td>❌</td><td>商户订单号 (唯一)</td></tr><tr><td>pay_bill_id</td><td>bigint</td><td>-</td><td>❌</td><td>账单id</td></tr><tr><td>refund_amount</td><td>decimal</td><td>-</td><td>❌</td><td>退款金额</td></tr><tr><td>refund_status</td><td>int</td><td>1</td><td>❌</td><td>状态：1未退款 2已退款</td></tr><tr><td>refund_time</td><td>datetime</td><td>-</td><td>✔️</td><td>退款时间</td></tr><tr><td>reason</td><td>varchar(50)</td><td>-</td><td>✔️</td><td>退款原因</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1未删除 0删除</td></tr><tr><td><strong>唯一约束</strong>：<code>d_refund_bill_out_order_no_IDX (out_order_no)</code></td><td></td><td></td><td></td><td></td></tr></tbody></table><hr><h3 id="_3-节目管理模块" tabindex="-1"><a class="header-anchor" href="#_3-节目管理模块"><span>3. 节目管理模块</span></a></h3><h4 id="d-program-节目表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-program-节目表-分表合并"><span><strong>d_program</strong>（节目表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>program_group_id</td><td>bigint</td><td>-</td><td>❌</td><td>节目分组id</td></tr><tr><td>prime</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>是否主要节目：1是 0否</td></tr><tr><td>area_id</td><td>bigint</td><td>-</td><td>❌</td><td>所在区域id</td></tr><tr><td>program_category_id</td><td>bigint</td><td>-</td><td>❌</td><td>节目类型id</td></tr><tr><td>parent_program_category_id</td><td>bigint</td><td>-</td><td>❌</td><td>父节目类型id</td></tr><tr><td>title</td><td>varchar(512)</td><td>-</td><td>❌</td><td>标题</td></tr><tr><td>actor</td><td>varchar(256)</td><td>-</td><td>✔️</td><td>艺人</td></tr><tr><td>place</td><td>varchar(100)</td><td>-</td><td>✔️</td><td>地点</td></tr><tr><td>item_picture</td><td>text</td><td>-</td><td>✔️</td><td>项目图片</td></tr><tr><td>pre_sell</td><td>tinyint(1)</td><td>0</td><td>❌</td><td>预售：1是 0否</td></tr><tr><td>pre_sell_instruction</td><td>varchar(256)</td><td>-</td><td>✔️</td><td>预售说明</td></tr><tr><td>important_notice</td><td>varchar(100)</td><td>-</td><td>✔️</td><td>重要通知</td></tr><tr><td>detail</td><td>text</td><td>-</td><td>❌</td><td>项目详情</td></tr><tr><td>per_order_limit_purchase_count</td><td>int</td><td>6</td><td>✔️</td><td>每单最多购买数量</td></tr><tr><td>per_account_limit_purchase_count</td><td>int</td><td>6</td><td>✔️</td><td>每个账号最多购买数量</td></tr><tr><td>refund_ticket_rule</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>退票/换票规则</td></tr><tr><td>delivery_instruction</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>配送信息说明</td></tr><tr><td>entry_rule</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>入场规则</td></tr><tr><td>child_purchase</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>儿童购票</td></tr><tr><td>invoice_specification</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>发票说明</td></tr><tr><td>real_ticket_purchase_rule</td><td>text</td><td>-</td><td>✔️</td><td>实名购票规则</td></tr><tr><td>abnormal_order_description</td><td>text</td><td>-</td><td>✔️</td><td>异常排单说明</td></tr><tr><td>kind_reminder</td><td>text</td><td>-</td><td>✔️</td><td>温馨提示</td></tr><tr><td>performance_duration</td><td>varchar(100)</td><td>-</td><td>✔️</td><td>演出时长</td></tr><tr><td>entry_time</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>入场时间</td></tr><tr><td>min_performance_count</td><td>int</td><td>-</td><td>✔️</td><td>最低演出曲目</td></tr><tr><td>main_actor</td><td>varchar(100)</td><td>-</td><td>✔️</td><td>主要演员</td></tr><tr><td>min_performance_duration</td><td>varchar(100)</td><td>-</td><td>✔️</td><td>最低演出时长</td></tr><tr><td>prohibited_item</td><td>text</td><td>-</td><td>✔️</td><td>禁止携带物品</td></tr><tr><td>deposit_specification</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>寄存说明</td></tr><tr><td>total_count</td><td>bigint</td><td>-</td><td>✔️</td><td>初始可售门票总数</td></tr><tr><td>permit_refund</td><td>tinyint(1)</td><td>0</td><td>❌</td><td>是否允许退款：0否 1条件 2全部</td></tr><tr><td>refund_explain</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>退款说明</td></tr><tr><td>rel_name_ticket_entrance</td><td>tinyint(1)</td><td>0</td><td>❌</td><td>实名制购票入场：1是 0否</td></tr><tr><td>rel_name_ticket_entrance_explain</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>实名制说明</td></tr><tr><td>permit_choose_seat</td><td>tinyint(1)</td><td>0</td><td>❌</td><td>是否允许选座：1是 0否</td></tr><tr><td>choose_seat_explain</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>选座说明</td></tr><tr><td>electronic_delivery_ticket</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>电子票/快递票：0无 1电子 2快递</td></tr><tr><td>electronic_delivery_ticket_explain</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>电子票说明</td></tr><tr><td>electronic_invoice</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>电子发票：1是 0否</td></tr><tr><td>electronic_invoice_explain</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>电子发票说明</td></tr><tr><td>high_heat</td><td>tinyint(1)</td><td>0</td><td>❌</td><td>高热度节目：1是 0否</td></tr><tr><td>program_status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1上架 0下架</td></tr><tr><td>issue_time</td><td>datetime</td><td>-</td><td>✔️</td><td>上架时间</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr><tr><td><strong>索引</strong>：</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>issue_time_idx (issue_time)</code></li><li><code>program_group_id_idx (program_group_id)</code></li></ul><hr><h4 id="d-program-category-节目类型表" tabindex="-1"><a class="header-anchor" href="#d-program-category-节目类型表"><span><strong>d_program_category</strong>（节目类型表）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>自增</td><td>❌</td><td>主键id</td></tr><tr><td>parent_id</td><td>bigint</td><td>0</td><td>❌</td><td>父id</td></tr><tr><td>name</td><td>varchar(120)</td><td>-</td><td>❌</td><td>名称</td></tr><tr><td>type</td><td>int</td><td>2</td><td>❌</td><td>1:一级种类 2:二级</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr><tr><td><strong>唯一约束</strong>：<code>parent_id_name_type_idx (parent_id, name, type)</code></td><td></td><td></td><td></td><td></td></tr><tr><td><strong>索引</strong>：</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>ctype (type)</code></li><li><code>parent_id (parent_id)</code></li></ul><hr><h4 id="d-program-group-节目分组表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-program-group-节目分组表-分表合并"><span><strong>d_program_group</strong>（节目分组表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>program_json</td><td>text</td><td>-</td><td>❌</td><td>节目JSON数据</td></tr><tr><td>recent_show_time</td><td>datetime</td><td>-</td><td>❌</td><td>最近演出时间</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr></tbody></table><hr><h4 id="d-program-show-time-节目演出时间表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-program-show-time-节目演出时间表-分表合并"><span><strong>d_program_show_time</strong>（节目演出时间表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>program_id</td><td>bigint</td><td>-</td><td>❌</td><td>节目表id</td></tr><tr><td>show_time</td><td>datetime</td><td>-</td><td>❌</td><td>演出时间</td></tr><tr><td>show_day_time</td><td>datetime</td><td>-</td><td>✔️</td><td>演出时间（精确到天）</td></tr><tr><td>show_week_time</td><td>varchar(64)</td><td>-</td><td>❌</td><td>演出所在星期</td></tr><tr><td>area_id</td><td>bigint</td><td>-</td><td>✔️</td><td>地区id</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>✔️</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>✔️</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr><tr><td><strong>索引</strong>：</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>program_id_idx (program_id)</code></li><li><code>show_time_idx (show_time)</code></li><li><code>show_day_time_idx (show_day_time)</code></li></ul><hr><h4 id="d-seat-座位表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-seat-座位表-分表合并"><span><strong>d_seat</strong>（座位表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>自增</td><td>❌</td><td>主键id</td></tr><tr><td>program_id</td><td>bigint</td><td>-</td><td>❌</td><td>节目表id</td></tr><tr><td>ticket_category_id</td><td>bigint</td><td>-</td><td>❌</td><td>节目票档id</td></tr><tr><td>row_code</td><td>int</td><td>-</td><td>❌</td><td>排号</td></tr><tr><td>col_code</td><td>int</td><td>-</td><td>❌</td><td>列号</td></tr><tr><td>seat_type</td><td>int</td><td>-</td><td>❌</td><td>座位类型（枚举）</td></tr><tr><td>price</td><td>decimal</td><td>-</td><td>❌</td><td>价格</td></tr><tr><td>sell_status</td><td>int</td><td>1</td><td>❌</td><td>状态：1未售 2锁定 3已售</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr><tr><td><strong>索引</strong>：</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>program_id_idx (program_id)</code></li><li><code>row_code_idx (row_code)</code></li><li><code>col_code_idx (col_code)</code></li></ul><hr><h4 id="d-ticket-category-节目票档表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-ticket-category-节目票档表-分表合并"><span><strong>d_ticket_category</strong>（节目票档表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>program_id</td><td>bigint</td><td>-</td><td>❌</td><td>节目表id</td></tr><tr><td>introduce</td><td>varchar(256)</td><td>-</td><td>❌</td><td>介绍</td></tr><tr><td>price</td><td>decimal</td><td>-</td><td>❌</td><td>价格</td></tr><tr><td>total_number</td><td>bigint</td><td>-</td><td>❌</td><td>总数量</td></tr><tr><td>remain_number</td><td>bigint</td><td>-</td><td>❌</td><td>剩余数量</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr></tbody></table><hr><h3 id="_4-用户模块" tabindex="-1"><a class="header-anchor" href="#_4-用户模块"><span>4. 用户模块</span></a></h3><h4 id="d-ticket-user-购票人表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-ticket-user-购票人表-分表合并"><span><strong>d_ticket_user</strong>（购票人表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>user_id</td><td>bigint</td><td>-</td><td>❌</td><td>用户id</td></tr><tr><td>rel_name</td><td>varchar(256)</td><td>-</td><td>❌</td><td>真实姓名</td></tr><tr><td>id_type</td><td>int</td><td>1</td><td>❌</td><td>证件类型：1身份证 2居住证等</td></tr><tr><td>id_number</td><td>varchar(512)</td><td>-</td><td>❌</td><td>证件号码</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr></tbody></table><hr><h4 id="d-user-用户表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-user-用户表-分表合并"><span><strong>d_user</strong>（用户表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>name</td><td>varchar(256)</td><td>-</td><td>✔️</td><td>用户名</td></tr><tr><td>rel_name</td><td>varchar(256)</td><td>-</td><td>✔️</td><td>真实姓名</td></tr><tr><td>mobile</td><td>varchar(512)</td><td>-</td><td>❌</td><td>手机号</td></tr><tr><td>gender</td><td>int</td><td>1</td><td>❌</td><td>性别：1男 2女</td></tr><tr><td>password</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>密码</td></tr><tr><td>email_status</td><td>tinyint(1)</td><td>0</td><td>❌</td><td>邮箱认证：1是 0否</td></tr><tr><td>email</td><td>varchar(256)</td><td>-</td><td>✔️</td><td>邮箱地址</td></tr><tr><td>rel_authentication_status</td><td>tinyint(1)</td><td>0</td><td>❌</td><td>实名认证：1是 0否</td></tr><tr><td>id_number</td><td>varchar(512)</td><td>-</td><td>✔️</td><td>身份证号</td></tr><tr><td>address</td><td>varchar(256)</td><td>-</td><td>✔️</td><td>收货地址</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>✔️</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>✔️</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr></tbody></table><hr><h4 id="d-user-email-用户邮箱表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-user-email-用户邮箱表-分表合并"><span><strong>d_user_email</strong>（用户邮箱表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>user_id</td><td>bigint</td><td>-</td><td>❌</td><td>用户id</td></tr><tr><td>email</td><td>varchar(512)</td><td>-</td><td>❌</td><td>邮箱</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr><tr><td><strong>索引</strong>：<code>email_idx (email)</code></td><td></td><td></td><td></td><td></td></tr></tbody></table><hr><h4 id="d-user-mobile-用户手机表-分表合并" tabindex="-1"><a class="header-anchor" href="#d-user-mobile-用户手机表-分表合并"><span><strong>d_user_mobile</strong>（用户手机表 - 分表合并）</span></a></h4><table><thead><tr><th>字段</th><th>类型</th><th>默认值</th><th>允许空</th><th>注释</th></tr></thead><tbody><tr><td>id</td><td>bigint</td><td>-</td><td>❌</td><td>主键id</td></tr><tr><td>user_id</td><td>bigint</td><td>-</td><td>❌</td><td>用户id</td></tr><tr><td>mobile</td><td>varchar(512)</td><td>-</td><td>❌</td><td>手机号</td></tr><tr><td>create_time</td><td>datetime</td><td>-</td><td>❌</td><td>创建时间</td></tr><tr><td>edit_time</td><td>datetime</td><td>-</td><td>❌</td><td>编辑时间</td></tr><tr><td>status</td><td>tinyint(1)</td><td>1</td><td>❌</td><td>状态：1正常 0删除</td></tr><tr><td><strong>索引</strong>：<code>mobile_idx (mobile)</code></td><td></td><td></td><td></td><td></td></tr></tbody></table><hr><p><strong>注</strong>：所有分表（如 <code>d_order_0</code>/<code>d_order_1</code>）均合并为逻辑表描述，实际存储时数据水平拆分到多个物理表。</p>',71)]))}const c=d(i,[["render",h]]),s=JSON.parse('{"path":"/projects/easypass/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8.html","title":"表结构设计","lang":"zh-CN","frontmatter":{"description":"表结构设计 1. 基础配置表 d_area（地区表） ctype (type) parent_id (parent_id) d_channel_data（渠道数据表） d_api_data（API请求记录表） idx_api_address (api_address) idx_api_url (api_url) 时间维度索引（call_day_time...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"表结构设计\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-14T02:11:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"CodeLong\\",\\"url\\":\\"codelong.top\\"}]}"],["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/projects/easypass/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8.html"}],["meta",{"property":"og:site_name","content":"CodeLong"}],["meta",{"property":"og:title","content":"表结构设计"}],["meta",{"property":"og:description","content":"表结构设计 1. 基础配置表 d_area（地区表） ctype (type) parent_id (parent_id) d_channel_data（渠道数据表） d_api_data（API请求记录表） idx_api_address (api_address) idx_api_url (api_url) 时间维度索引（call_day_time..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-14T02:11:18.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-14T02:11:18.000Z"}]]},"git":{"createdTime":1755137478000,"updatedTime":1755137478000,"contributors":[{"name":"1973034392","username":"1973034392","email":"1973034392@qq.com","commits":1,"url":"https://github.com/1973034392"}]},"readingTime":{"minutes":8.34,"words":2501},"filePathRelative":"projects/easypass/数据库表.md","autoDesc":true}');export{c as comp,s as data};
